model Privilege {
    id        BigInt   @id @default(autoincrement())
    name      String   @unique
    access    String
    model     String
    code      String   @unique
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([code])
    @@index([name])
    @@index([model])
    @@map("iam_privileges")
}

model Role {
    id          BigInt      @id @default(autoincrement())
    name        String   @unique
    code        String   @unique
    description String
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt

    @@index([code])
    @@index([name])
    @@map("iam_roles")
}

model RolePrivileges {
  id         BigInt        @id @default(autoincrement())
  roleId     BigInt
  privilegeId BigInt
  createdAt  DateTime   @default(now())
  updatedAt  DateTime   @updatedAt
  
  role       Role       @relation(fields: [roleId], references: [id])
  privilege  Privilege  @relation(fields: [privilegeId], references: [id])

  @@index([roleId])
  @@index([privilegeId])
  @@map("iam_role_privileges")
}
